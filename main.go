package main

import (
	"bufio"
	"fmt"
	"math/rand"
	"os"

	"github.com/gocolly/colly"
	"github.com/mymmrac/telego"
	th "github.com/mymmrac/telego/telegohandler"
	tu "github.com/mymmrac/telego/telegoutil"
)

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Ä—Ç–µ –¢–∞—Ä–æ
type TarotCard struct {
	Name        string
	Description string
	ImagePath   string
}

func main() {
	// –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏
	file, err := os.Open("test.txt")
	if err != nil {
		fmt.Println("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞:", err)
		return
	}
	defer file.Close()

	var quotes []string
	scanner := bufio.NewScanner(file)
	for scanner.Scan() {
		line := scanner.Text()
		quotes = append(quotes, extractQuotes(line)...)
	}

	// –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤
	cancer := collyHoroscopeMail("cancer")
	aries := collyHoroscopeMail("aries")
	taurus := collyHoroscopeMail("taurus")
	gemini := collyHoroscopeMail("gemini")
	leo := collyHoroscopeMail("leo")
	virgo := collyHoroscopeMail("virgo")
	libra := collyHoroscopeMail("libra")
	scorpio := collyHoroscopeMail("scorpio")
	sagittarius := collyHoroscopeMail("sagittarius")
	capricorn := collyHoroscopeMail("capricorn")
	aquarius := collyHoroscopeMail("aquarius")
	pisces := collyHoroscopeMail("pisces")

	// –ü—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
	imagePaths := map[string]string{
		"–ì–æ—Ä–æ—Å–∫–æ–ø":     "images/allhorosk.JPG",
		"–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ": "images/zhab.JPG",
	}
	var tarotCards = []TarotCard{
		// –°—Ç–∞—Ä—à–∏–µ –ê—Ä–∫–∞–Ω—ã
		{"–®—É—Ç", "–ù–∞—á–∞–ª–æ, —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å, —Å–≤–æ–±–æ–¥–∞, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ, –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤–æ–≥–æ –ø—É—Ç–∏.", "images/tarot/1.png"},
		{"–ú–∞–≥", "–í–æ–ª—è, –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ, —Ä–µ—Å—É—Ä—Å—ã, –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞, —Å–æ–∑–¥–∞–Ω–∏–µ.", "images/tarot/2.png"},
		{"–ñ—Ä–∏—Ü–∞", "–ò–Ω—Ç—É–∏—Ü–∏—è, —Ç–∞–π–Ω–∞, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –∑–Ω–∞–Ω–∏–µ, –¥—É—Ö–æ–≤–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ.", "images/tarot/3.png"},
		{"–ò–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞", "–ü–ª–æ–¥–æ—Ä–æ–¥–∏–µ, –∏–∑–æ–±–∏–ª–∏–µ, –º–∞—Ç–µ—Ä–∏–Ω—Å—Ç–≤–æ, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, –ø—Ä–∏—Ä–æ–¥–∞.", "images/tarot/4.png"},
		{"–ò–º–ø–µ—Ä–∞—Ç–æ—Ä", "–í–ª–∞—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ—Ä—è–¥–æ–∫, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.", "images/tarot/5.png"},
		{"–ñ—Ä–µ—Ü (–ü–∞–ø–∞)", "–¢—Ä–∞–¥–∏—Ü–∏–∏, –¥—É—Ö–æ–≤–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ, —Ä–µ–ª–∏–≥–∏—è, –º—É–¥—Ä–æ—Å—Ç—å, –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–æ.", "images/tarot/6.png"},
		{"–í–ª—é–±–ª–µ–Ω–Ω—ã–µ", "–õ—é–±–æ–≤—å, –≤—ã–±–æ—Ä, –≥–∞—Ä–º–æ–Ω–∏—è, –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å.", "images/tarot/7.png"},
		{"–ö–æ–ª–µ—Å–Ω–∏—Ü–∞", "–¢—Ä–∏—É–º—Ñ, –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥, –ø–æ–±–µ–¥–∞, —Å–∏–ª–∞ –≤–æ–ª–∏, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ.", "images/tarot/8.png"},
		{"–°–∏–ª–∞", "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–∏–ª–∞, –º—É–∂–µ—Å—Ç–≤–æ, —Ç–µ—Ä–ø–µ–Ω–∏–µ, —Å–∞–º–æ–æ–±–ª–∞–¥–∞–Ω–∏–µ, —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ.", "images/tarot/9.png"},
		{"–û—Ç—à–µ–ª—å–Ω–∏–∫", "–û–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ, —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ, –º—É–¥—Ä–æ—Å—Ç—å, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–∏—Å–∫, –æ—Ç—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ—Å—Ç—å.", "images/10.png"},
		{"–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã", "–°—É–¥—å–±–∞, –∏–∑–º–µ–Ω–µ–Ω–∏–µ, —É–¥–∞—á–∞, —Ü–∏–∫–ª—ã, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç–∏.", "images/tarot/11.png"},
		{"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å", "–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å, –ø—Ä–∞–≤–¥–∞, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –∑–∞–∫–æ–Ω, —á–µ—Å—Ç–Ω–æ—Å—Ç—å.", "images/tarot/12.png"},
		{"–ü–æ–≤–µ—à–µ–Ω–Ω—ã–π", "–ñ–µ—Ä—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –ø–∞—É–∑–∞, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã, –ø—Ä–∏–Ω—è—Ç–∏–µ, –æ—Ç–∫–∞–∑.", "images/tarot/13.png"},
		{"–°–º–µ—Ä—Ç—å", "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è, –æ–∫–æ–Ω—á–∞–Ω–∏–µ, –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ–Ω–µ—Ü —Ü–∏–∫–ª–∞.", "images/tarot/14.png"},
		{"–£–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", "–ë–∞–ª–∞–Ω—Å, –≥–∞—Ä–º–æ–Ω–∏—è, —É–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —Ç–µ—Ä–ø–µ–Ω–∏–µ, –∞–¥–∞–ø—Ç–∞—Ü–∏—è.", "images/tarot/15.png"},
		{"–î—å—è–≤–æ–ª", "–ò—Å–∫—É—à–µ–Ω–∏–µ, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –∏–ª–ª—é–∑–∏—è.", "images/tarot/16.png"},
		{"–ë–∞—à–Ω—è", "–†–∞–∑—Ä—É—à–µ–Ω–∏–µ, –ø–µ—Ä–µ–º–µ–Ω—ã, –∫—Ä–∏–∑–∏—Å, –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞, —à–æ–∫.", "images/tarot/17.png"},
		{"–ó–≤–µ–∑–¥–∞", "–ù–∞–¥–µ–∂–¥–∞, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –≤–µ—Ä–∞, –∏—Å—Ü–µ–ª–µ–Ω–∏–µ, –¥—É—Ö–æ–≤–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ.", "images/tarot/18.png"},
		{"–õ—É–Ω–∞", "–ò–ª–ª—é–∑–∏—è, —Å—Ç—Ä–∞—Ö–∏, –∏–Ω—Ç—É–∏—Ü–∏—è, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ, –∑–∞–≥–∞–¥–æ—á–Ω–æ—Å—Ç—å.", "images/tarot/19.png"},
		{"–°–æ–ª–Ω—Ü–µ", "–†–∞–¥–æ—Å—Ç—å, —É—Å–ø–µ—Ö, –ø—Ä–æ—Ü–≤–µ—Ç–∞–Ω–∏–µ, –∂–∏–∑–Ω–µ–Ω–Ω–∞—è —Å–∏–ª–∞, –æ–ø—Ç–∏–º–∏–∑–º.", "images/tarot/20.png"},
		{"–°—É–¥", "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ, —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞, –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ, —Å—É–¥—å–±–∞, –∫–∞—Ä–º–∏—á–µ—Å–∫–æ–µ –≤–æ–∑–¥–∞—è–Ω–∏–µ.", "images/tarot/21.png"},
		{"–ú–∏—Ä", "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ, –≥–∞—Ä–º–æ–Ω–∏—è, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ü–∏–∫–ª–∞, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ.", "images/tarot/22.png"},

		// –ú–∞—Å—Ç—å –ñ–µ–∑–ª–æ–≤
		{"–¢—É–∑ –ñ–µ–∑–ª–æ–≤", "–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –Ω–æ–≤—ã–µ –Ω–∞—á–∏–Ω–∞–Ω–∏—è, –∞–º–±–∏—Ü–∏–∏.", "images/tarot/23.png"},
		{"–î–≤–æ–π–∫–∞ –ñ–µ–∑–ª–æ–≤", "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π, –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞.", "images/tarot/24.png"},
		{"–¢—Ä–æ–π–∫–∞ –ñ–µ–∑–ª–æ–≤", "–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –¥–∞–ª—å–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç—å, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ.", "images/tarot/25.png"},
		{"–ß–µ—Ç–≤–µ—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤", "–ü—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ.", "images/tarot/26.png"},
		{"–ü—è—Ç–µ—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤", "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è, –±–æ—Ä—å–±–∞, –∫–æ–Ω—Ñ–ª–∏–∫—Ç.", "images/tarot/27.png"},
		{"–®–µ—Å—Ç–µ—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤", "–ü–æ–±–µ–¥–∞, –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ, —Ç—Ä–∏—É–º—Ñ.", "images/tarot/28.png"},
		{"–°–µ–º–µ—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤", "–ó–∞—â–∏—Ç–∞, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π.", "images/tarot/29.png"},
		{"–í–æ—Å—å–º–µ—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤", "–î–≤–∏–∂–µ–Ω–∏–µ, —É—Å–∫–æ—Ä–µ–Ω–∏–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å.", "images/tarot/30.png"},
		{"–î–µ–≤—è—Ç–∫–∞ –ñ–µ–∑–ª–æ–≤", "–ù–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –∑–∞—â–∏—Ç–∞, –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –±–æ—Ä—å–±–µ.", "images/tarot/31.png"},
		{"–î–µ—Å—è—Ç–∫–∞ –ñ–µ–∑–ª–æ–≤", "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –±—Ä–µ–º—è, –¥–∞–≤–ª–µ–Ω–∏–µ.", "images/tarot/32.png"},
		{"–ü–∞–∂ –ñ–µ–∑–ª–æ–≤", "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, —ç–Ω—Ç—É–∑–∏–∞–∑–º, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ.", "images/tarot/33.png"},
		{"–†—ã—Ü–∞—Ä—å –ñ–µ–∑–ª–æ–≤", "–°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ, –∞–≤–∞–Ω—Ç—é—Ä–∏–∑–º, –¥–∏–Ω–∞–º–∏–∫–∞.", "images/tarot/34.png"},
		{"–ö–æ—Ä–æ–ª–µ–≤–∞ –ñ–µ–∑–ª–æ–≤", "–°—Ç—Ä–∞—Å—Ç—å, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —Ö–∞—Ä–∏–∑–º–∞.", "images/tarot/35.png"},
		{"–ö–æ—Ä–æ–ª—å –ñ–µ–∑–ª–æ–≤", "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ, –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ.", "images/tarot/36.png"},

		// –ú–∞—Å—Ç—å –ö—É–±–∫–æ–≤
		{"–¢—É–∑ –ö—É–±–∫–æ–≤", "–õ—é–±–æ–≤—å, –Ω–∞—á–∞–ª–æ –Ω–æ–≤—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π, –¥—É—Ö–æ–≤–Ω–æ–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ.", "images/tarot/37.png"},
		{"–î–≤–æ–π–∫–∞ –ö—É–±–∫–æ–≤", "–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å, —Å–æ—é–∑.", "images/tarot/38.png"},
		{"–¢—Ä–æ–π–∫–∞ –ö—É–±–∫–æ–≤", "–î—Ä—É–∂–±–∞, —Ä–∞–¥–æ—Å—Ç—å, –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ.", "images/tarot/39.png"},
		{"–ß–µ—Ç–≤–µ—Ä–∫–∞ –ö—É–±–∫–æ–≤", "–ê–ø–∞—Ç–∏—è, —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ, —Å–∞–º–æ–∞–Ω–∞–ª–∏–∑.", "images/tarot/40.png"},
		{"–ü—è—Ç–µ—Ä–∫–∞ –ö—É–±–∫–æ–≤", "–ü–æ—Ç–µ—Ä—è, —Å–æ–∂–∞–ª–µ–Ω–∏–µ, –ø–µ—á–∞–ª—å.", "images/tarot/41.png"},
		{"–®–µ—Å—Ç–µ—Ä–∫–∞ –ö—É–±–∫–æ–≤", "–í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è, –Ω–æ—Å—Ç–∞–ª—å–≥–∏—è, –ø—Ä–æ—à–ª–æ–µ.", "images/tarot/42.png"},
		{"–°–µ–º–µ—Ä–∫–∞ –ö—É–±–∫–æ–≤", "–í—ã–±–æ—Ä, –∏–ª–ª—é–∑–∏–∏, –º–µ—á—Ç—ã.", "images/tarot/43.png"},
		{"–í–æ—Å—å–º–µ—Ä–∫–∞ –ö—É–±–∫–æ–≤", "–û—Ç—Ö–æ–¥, –ø–æ–∏—Å–∫, —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ.", "images/tarot/44.png"},
		{"–î–µ–≤—è—Ç–∫–∞ –ö—É–±–∫–æ–≤", "–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∂–µ–ª–∞–Ω–∏–π, —Å—á–∞—Å—Ç—å–µ, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ.", "images/tarot/45.png"},
		{"–î–µ—Å—è—Ç–∫–∞ –ö—É–±–∫–æ–≤", "–°—á–∞—Å—Ç—å–µ, –≥–∞—Ä–º–æ–Ω–∏—è, —Å–µ–º–µ–π–Ω–æ–µ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–µ.", "images/tarot/46.png"},
		{"–ü–∞–∂ –ö—É–±–∫–æ–≤", "–†–æ–º–∞–Ω—Ç–∏–∫–∞, –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ.", "images/tarot/47.png"},
		{"–†—ã—Ü–∞—Ä—å –ö—É–±–∫–æ–≤", "–£–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å, –∏–¥–µ–∞–ª–∏–∑–º, –ø–æ–∏—Å–∫–∏.", "images/tarot/48.png"},
		{"–ö–æ—Ä–æ–ª–µ–≤–∞ –ö—É–±–∫–æ–≤", "–ó–∞–±–æ—Ç–∞, –∏–Ω—Ç—É–∏—Ü–∏—è, —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ.", "images/tarot/49.png"},
		{"–ö–æ—Ä–æ–ª—å –ö—É–±–∫–æ–≤", "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑—Ä–µ–ª–æ—Å—Ç—å, —Å–æ—á—É–≤—Å—Ç–≤–∏–µ, –ø–æ–Ω–∏–º–∞–Ω–∏–µ.", "images/tarot/50.png"},

		// –ú–∞—Å—Ç—å –ú–µ—á–µ–π
		{"–¢—É–∑ –ú–µ—á–µ–π", "–Ø—Å–Ω–æ—Å—Ç—å, –∏—Å—Ç–∏–Ω–∞, –∏–¥–µ—è.", "images/tarot/51.png"},
		{"–î–≤–æ–π–∫–∞ –ú–µ—á–µ–π", "–í—ã–±–æ—Ä, —Å–æ–º–Ω–µ–Ω–∏–µ, –±–∞–ª–∞–Ω—Å.", "images/tarot/52.png"},
		{"–¢—Ä–æ–π–∫–∞ –ú–µ—á–µ–π", "–ë–æ–ª—å, –ø–µ—á–∞–ª—å, —Ä–∞–∑–±–∏—Ç–æ–µ —Å–µ—Ä–¥—Ü–µ.", "images/tarot/53.png"},
		{"–ß–µ—Ç–≤–µ—Ä–∫–∞ –ú–µ—á–µ–π", "–û—Ç–¥—ã—Ö, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–µ.", "images/tarot/54.png"},
		{"–ü—è—Ç–µ—Ä–∫–∞ –ú–µ—á–µ–π", "–ö–æ–Ω—Ñ–ª–∏–∫—Ç, –ø–æ—Ä–∞–∂–µ–Ω–∏–µ, –∂–µ—Ä—Ç–≤–∞.", "images/tarot/55.png"},
		{"–®–µ—Å—Ç–µ—Ä–∫–∞ –ú–µ—á–µ–π", "–ü–µ—Ä–µ–º–µ–Ω—ã, –ø–µ—Ä–µ—Ö–æ–¥, —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º.", "images/tarot/56.png"},
		{"–°–µ–º–µ—Ä–∫–∞ –ú–µ—á–µ–π", "–•–∏—Ç—Ä–æ—Å—Ç—å, –æ–±–º–∞–Ω, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è.", "images/tarot/57.png"},
		{"–í–æ—Å—å–º–µ—Ä–∫–∞ –ú–µ—á–µ–π", "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, —Å—Ç—Ä–∞—Ö, –±–µ—Å–ø–æ–º–æ—â–Ω–æ—Å—Ç—å.", "images/tarot/58.png"},
		{"–î–µ–≤—è—Ç–∫–∞ –ú–µ—á–µ–π", "–¢—Ä–µ–≤–æ–≥–∞, —Å—Ç—Ä–∞—Ö–∏, –Ω–æ—á–Ω—ã–µ –∫–æ—à–º–∞—Ä—ã.", "images/tarot/59.png"},
		{"–î–µ—Å—è—Ç–∫–∞ –ú–µ—á–µ–π", "–ö–æ–Ω–µ—Ü, —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ü–∏–∫–ª–∞.", "images/tarot/60.png"},
		{"–ü–∞–∂ –ú–µ—á–µ–π", "–ù–∞–±–ª—é–¥–µ–Ω–∏–µ, –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —á–µ—Å—Ç–Ω–æ—Å—Ç—å.", "images/tarot/61.png"},
		{"–†—ã—Ü–∞—Ä—å –ú–µ—á–µ–π", "–°—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –ø—Ä–∞–≤–¥–µ.", "images/tarot/62.png"},
		{"–ö–æ—Ä–æ–ª–µ–≤–∞ –ú–µ—á–µ–π", "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞, —è—Å–Ω–æ—Å—Ç—å, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å.", "images/tarot/63.png"},
		{"–ö–æ—Ä–æ–ª—å –ú–µ—á–µ–π", "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç, –≤–ª–∞—Å—Ç—å, –ª–æ–≥–∏–∫–∞.", "images/tarot/64.png"},

		// –ú–∞—Å—Ç—å –ü–µ–Ω—Ç–∞–∫–ª–µ–π
		{"–¢—É–∑ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∏–∑–æ–±–∏–ª–∏–µ, –ø—Ä–æ—Ü–≤–µ—Ç–∞–Ω–∏–µ.", "images/tarot/65.png"},
		{"–î–≤–æ–π–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–ë–∞–ª–∞–Ω—Å, –∞–¥–∞–ø—Ç–∞—Ü–∏—è, –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å.", "images/tarot/66.png"},
		{"–¢—Ä–æ–π–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ, –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ, —Ä–∞–±–æ—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ.", "images/tarot/67.png"},
		{"–ß–µ—Ç–≤–µ—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–°–¥–µ—Ä–∂–∞–Ω–Ω–æ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å, –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ.", "images/tarot/68.png"},
		{"–ü—è—Ç–µ—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–ü–æ—Ç–µ—Ä—è, —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏, –Ω–∏—â–µ—Ç–∞.", "images/tarot/69.png"},
		{"–®–µ—Å—Ç–µ—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —â–µ–¥—Ä–æ—Å—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∫–∞.", "images/tarot/70.png"},
		{"–°–µ–º–µ—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–û–∂–∏–¥–∞–Ω–∏–µ, —É—Å–∏–ª–∏—è, –æ—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.", "images/tarot/71.png"},
		{"–í–æ—Å—å–º–µ—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–¢—Ä—É–¥, —É—Å–µ—Ä–¥–∏–µ, —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ.", "images/tarot/72.png"},
		{"–î–µ–≤—è—Ç–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å, —É—Å–ø–µ—Ö, –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–µ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–µ.", "images/tarot/73.png"},
		{"–î–µ—Å—è—Ç–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–ë–æ–≥–∞—Ç—Å—Ç–≤–æ, –Ω–∞—Å–ª–µ–¥–∏–µ, —Å–µ–º—å—è.", "images/tarot/74.png"},
		{"–ü–∞–∂ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–£—á–µ–Ω–∏—á–µ—Å—Ç–≤–æ, –∂–µ–ª–∞–Ω–∏–µ —É—á–∏—Ç—å—Å—è, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å.", "images/tarot/75.png"},
		{"–†—ã—Ü–∞—Ä—å –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å, —Ç—Ä—É–¥–æ–ª—é–±–∏–µ.", "images/tarot/76.png"},
		{"–ö–æ—Ä–æ–ª–µ–≤–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–ó–∞–±–æ—Ç–ª–∏–≤–æ—Å—Ç—å, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å, –∏–∑–æ–±–∏–ª–∏–µ.", "images/tarot/77.png"},
		{"–ö–æ—Ä–æ–ª—å –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –ª–∏–¥–µ—Ä—Å—Ç–≤–æ.", "images/tarot/78.png"},
	}

	botToken := "..."

	bot, err := telego.NewBot(botToken, telego.WithDefaultDebugLogger())
	if err != nil {
		fmt.Println("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–æ—Ç–∞:", err)
		os.Exit(1)
	}

	updates, _ := bot.UpdatesViaLongPolling(nil)

	bh, _ := th.NewBotHandler(bot, updates)

	defer bh.Stop()
	defer bot.StopLongPolling()

	// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
	bh.Handle(func(bot *telego.Bot, update telego.Update) {
		keyboard := tu.InlineKeyboard(
			tu.InlineKeyboardRow(
				tu.InlineKeyboardButton("‚ôà –û–≤–µ–Ω").WithCallbackData("–û–≤–µ–Ω"),
				tu.InlineKeyboardButton("‚ôâ –¢–µ–ª–µ—Ü").WithCallbackData("–¢–µ–ª–µ—Ü"),
				tu.InlineKeyboardButton("‚ôä –ë–ª–∏–∑–Ω–µ—Ü—ã").WithCallbackData("–ë–ª–∏–∑–Ω–µ—Ü—ã"),
			),
			tu.InlineKeyboardRow(
				tu.InlineKeyboardButton("‚ôã –†–∞–∫").WithCallbackData("–†–∞–∫"),
				tu.InlineKeyboardButton("‚ôå –õ–µ–≤").WithCallbackData("–õ–µ–≤"),
				tu.InlineKeyboardButton("‚ôç –î–µ–≤–∞").WithCallbackData("–î–µ–≤–∞"),
			),
			tu.InlineKeyboardRow(
				tu.InlineKeyboardButton("‚ôé –í–µ—Å—ã").WithCallbackData("–í–µ—Å—ã"),
				tu.InlineKeyboardButton("‚ôè –°–∫–æ—Ä–ø–∏–æ–Ω").WithCallbackData("–°–∫–æ—Ä–ø–∏–æ–Ω"),
				tu.InlineKeyboardButton("‚ôê –°—Ç—Ä–µ–ª–µ—Ü").WithCallbackData("–°—Ç—Ä–µ–ª–µ—Ü"),
			),
			tu.InlineKeyboardRow(
				tu.InlineKeyboardButton("‚ôë –ö–æ–∑–µ—Ä–æ–≥").WithCallbackData("–ö–æ–∑–µ—Ä–æ–≥"),
				tu.InlineKeyboardButton("‚ôí –í–æ–¥–æ–ª–µ–π").WithCallbackData("–í–æ–¥–æ–ª–µ–π"),
				tu.InlineKeyboardButton("‚ôì –†—ã–±—ã").WithCallbackData("–†—ã–±—ã"),
			),
			tu.InlineKeyboardRow(
				tu.InlineKeyboardButton("üîÆ –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ").WithCallbackData("–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ"),
				tu.InlineKeyboardButton("üÉè –¢–∞—Ä–æ").WithCallbackData("–¢–∞—Ä–æ"), // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –¢–∞—Ä–æ
			),
		)

		_, _ = bot.SendMessage(tu.Message(
			tu.ID(update.Message.Chat.ID),
			"–í—ã–±–µ—Ä–∏ —Å–≤–æ–π –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞, –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ–º –∏–ª–∏ –∫–∞—Ä—Ç–æ–π –¢–∞—Ä–æ",
		).WithReplyMarkup(keyboard))
	}, th.CommandEqual("start"))

	// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏
	bh.Handle(func(bot *telego.Bot, update telego.Update) {
		callbackData := update.CallbackQuery.Data
		chatID := update.CallbackQuery.From.ID

		var responseText string
		var imagePath string

		// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –∏ –ø—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
		switch callbackData {
		case "–†–∞–∫":
			responseText = cancer
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–û–≤–µ–Ω":
			responseText = aries
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–¢–µ–ª–µ—Ü":
			responseText = taurus
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–ë–ª–∏–∑–Ω–µ—Ü—ã":
			responseText = gemini
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–õ–µ–≤":
			responseText = leo
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–î–µ–≤–∞":
			responseText = virgo
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–í–µ—Å—ã":
			responseText = libra
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–°–∫–æ—Ä–ø–∏–æ–Ω":
			responseText = scorpio
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–°—Ç—Ä–µ–ª–µ—Ü":
			responseText = sagittarius
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–ö–æ–∑–µ—Ä–æ–≥":
			responseText = capricorn
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–í–æ–¥–æ–ª–µ–π":
			responseText = aquarius
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–†—ã–±—ã":
			responseText = pisces
			imagePath = imagePaths["–ì–æ—Ä–æ—Å–∫–æ–ø"]
		case "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ":
			responseText = quotes[rand.Intn(len(quotes))]
			imagePath = imagePaths["–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ"]
		case "–¢–∞—Ä–æ": // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "–¢–∞—Ä–æ"
			selectedCard := tarotCards[rand.Intn(len(tarotCards))]
			responseText = fmt.Sprintf("%s: %s", selectedCard.Name, selectedCard.Description)
			imagePath = selectedCard.ImagePath
		default:
			responseText = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –≤—ã–±–æ—Ä!"
		}

		// –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ –≤–º–µ—Å—Ç–µ —Å —Ç–µ–∫—Å—Ç–æ–º
		if imagePath != "" {
			_, err := bot.SendPhoto(&telego.SendPhotoParams{
				ChatID:  tu.ID(chatID),
				Photo:   tu.File(mustOpen(imagePath)),
				Caption: responseText,
			})
			if err != nil {
				fmt.Printf("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ç–æ: %v\n", err)
			}
		} else {
			_, _ = bot.SendMessage(tu.Message(
				tu.ID(chatID),
				responseText,
			))
		}
	}, th.AnyCallbackQuery())

	bh.Start()
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥–æ—Ä–æ—Å–∫–æ–ø–∞
func collyHoroscopeMail(sign string) string {
	var result string
	c := colly.NewCollector(
		colly.AllowedDomains("horoscopes.rambler.ru"),
	)
	c.OnHTML("div[itemprop=articleBody]", func(h *colly.HTMLElement) {
		result = h.Text
	})
	url := fmt.Sprintf("https://horoscopes.rambler.ru/%s/", sign)
	c.Visit(url)
	return result
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
func extractQuotes(text string) []string {
	var quotes []string
	for i := 0; i < len(text); i++ {
		if text[i] == '"' {
			start := i
			for j := i + 1; j < len(text); j++ {
				if text[j] == '"' && (j == len(text)-1 || text[j+1] == '.') {
					quotes = append(quotes, text[start:j+1])
					break
				}
			}
		}
	}
	return quotes
}

// –§—É–Ω–∫—Ü–∏—è –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ–∫–µ—Ç–∞, –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–∏–∫–æ–≤ –∫–∞—Ä—Ç–∏–Ω–æ—á–µ–∫
func mustOpen(filename string) *os.File {
	file, err := os.Open(filename)
	if err != nil {
		panic(err)
	}
	return file
}
